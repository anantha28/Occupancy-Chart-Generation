<!DOCTYPE html>
<html lang="en">
   <head>
      <title>time table</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.ico"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
<!--===============================================================================================-->
      <style>
body {
    background-color: #ffffff;
    mix-blend-mode: darken;
    
}
 
header h1 {
    margin-top: 20%
    text-align: center;
    color: black;
    font-weight: bold;
    font-family: sans-serif;
	margin-left: 25%;
}
 
table {
	margin-top: 10%
    width: max-content;
    border: 1px solid black;
    height: 300px;
	margin-left: 5%;
}
 
td {
    text-align: center;
    border: 1px solid black;
}
 
#blank {
    color: #000;
    background-color: #fff;
}
 
#s {
    font-weight: 800;
    text-transform: uppercase;
    font-family: sans-serif;
    background-color: #ffffff;
}
 
#seminar {
    font-weight: 800;
    font-family: sans-serif;
    background-color: #ffffff;
    text-transform: uppercase;
}
 
#sub {
    color: black;
    font-family: sans-serif;
    font-weight: 400;
    background-color: #ffffff;
}
 
#sub1 {
    background-color: #fff;
}
 
#sub2 {
    color: black;
    text-transform: uppercase;
    background-color: #ffffff;
}
 
#sub3 {
    background-color: #ffffff;
    font-family: sans-serif;
    font-weight: 800;
}
 
#box1 {
    color: cornflowerblue;
    font-family: sans-serif;
    font-weight: 800;
}
 
#box2 {
    color: darkorange;
    font-weight: 800;
    font-family: sans-serif;
}
 
#box3 {
    color: darkviolet;
    font-weight: 800;
    font-family: sans-serif;
}
 
#box4 {
    color: green;
    font-weight: 800;
    font-family: sans-serif;
}
 
#box5 {
    color: red;
    font-family: sans-serif;
    font-weight: 800;
}
 
#box6 {
    color: hotpink;
    font-weight: 800;
    font-family: sans-serif;
}
 
#box7 {
    color: blue;
    font-family: sans-serif;
    font-weight: 800;
}
</style>
   </head>
   <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
           <a class="navbar-brand" href="#"><strong>Occupancy Chart Generator</strong></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent" >
   
  
	
	<% if(!currentUser){ %>
            <a class="btn btn-primary" href="/login" role="button">Login</a>
            <%} else{ %>
            <a href="#"  style="color:#ffffff;margin-right:18px;margin-left:700px"> <%= currentUser.username %></a>
            <a class="btn btn-info" href="/logout" role="button">Logout</a>
            
            <% } %>
	
  </div>
  
   <a class="btn btn-info back" href="/adminDashboard" role="button" style="Display:None">adminDashboard</a>
  
        </div>
 </nav>
 
             <% if(error.length>0){%>
<div class="alert alert-danger container" style="margin-top:0px;"><%=error%></div>
<% }if(success.length>0){%>
<div class="alert alert-success container" style="margin-top:0px;"><%=success%></div>
<% } %>
      <header>
         <h5 style="margin-top:80px;margin-left:550px"><strong>Timetable will be downloaded like this</strong></h5>
      </header>
	<div class="wrap-table100" style="margin-left:200px"> 
		<br>
		
		<table border="5" cellspacing="0" align="center">
        <tr>
            <td align="center" height="50" 
                width="100"><br>
                <b>Day/Period</b>
            </td>
            <td align="center" height="50" 
                width="100">
                <b>I<br>9:00-10:00</b>
            </td>
            <td align="center" height="50" 
                width="100">
                <b>II<br>10:00-11:00</b>
            </td>
            <td align="center" height="50" 
                width="100">
                <b>11:00-11:15</b>
            </td>
            <td align="center" height="50" 
                width="100">
                <b>III<br>11:15-12:15</b>
            </td>
            <td align="center" height="50" 
                width="100">
                <b>IV<br>12:15-1:15</b>
            </td>
            <td align="center" height="50" 
                width="100">
                <b>1:15-2:00</b>
            </td>
            <td align="center" height="50" 
                width="100">
                <b>V<br>2:00-3:00</b>
            </td>
            <td align="center" height="50" 
                width="100">
                <b>VI<br>3:00-4:00</b>
            </td>
        </tr>
        <tr>
            <td align="center" height="50">
                <b>Monday</b>
			</td>
			
            <% if(tim.timeAlloted.includes(29)){ %>
			<td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(29)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(29)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(30)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(30)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(30)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% } %>
			
			<td rowspan="6" align="center" height="50">
				<h2>B<br>R<br>E<br>A<br>K</h2>
			</td>
			
            <% if(tim.timeAlloted.includes(31)){ %>
			<td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(31)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(31)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(32)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(32)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(32)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% } %>
			
			<td rowspan="6" align="center" height="50">
                <h2>L<br>U<br>N<br>C<br>H</h2>
            </td>
            
			<% if(tim.timeAlloted.includes(33)){ %>
			<td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(33)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(33)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(34)){ %>
			<td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(34)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(34)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% } %>
        </tr>
        <tr>
            <td align="center" height="50">
                <b>Tuesday</b>
            </td>
			
			<% if(tim.timeAlloted.includes(35)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(35)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(35)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(36)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(36)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(36)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(37)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(37)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(37)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(38)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(38)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(38)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(39)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(39)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(39)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(40)){ %>
			<td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(40)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(40)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% } %>
        </tr>
        <tr>
            <td align="center" height="50">
                <b>Wednesday</b>
            </td>
			
			<% if(tim.timeAlloted.includes(41)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(41)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(41)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(42)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(42)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(42)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(43)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(43)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(43)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(44)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(44)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(44)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(45)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(45)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(45)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(46)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(46)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(46)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% } %>
        </tr>
        <tr>
            <td align="center" height="50">
                <b>Thursday</b>
            </td>
			
			<% if(tim.timeAlloted.includes(47)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(47)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(47)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(48)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(48)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(48)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(49)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(49)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(49)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(50)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(50)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(50)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(51)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(51)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(51)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(52)){ %>
			<td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(52)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(52)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% } %>
        </tr>
        <tr>
            <td align="center" height="50">
                <b>Friday</b>
            </td>
			
			<% if(tim.timeAlloted.includes(53)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(53)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(53)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(54)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(54)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(54)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(55)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(55)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(55)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(56)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(56)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(56)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(57)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(57)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(57)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% }
			
			if(tim.timeAlloted.includes(58)){ %>
            <td align="center" height="50"><%= tim.courseName[tim.timeAlloted.indexOf(58)]%><br><%= tim.roomAlloted[tim.timeAlloted.indexOf(58)] %></td>
			<% }else{ %>
			<td align="center" height="50">Free</td>
			<% } %>
        </tr>
        <tr>
            <td align="center" height="50">
                <b>Saturday</b>
            </td>
			
            <td align="center" height="50">Free</td>
            <td align="center" height="50">Free</td>
            <td align="center" height="50">Free</td>
            <td align="center" height="50">Free</td>
            <td align="center" height="50">Free</td>
			<td align="center" height="50">Free</td>
        </tr>
    </table>
	<br>
	</div>
	<br>
    <input type="button" value="Download" id="btnConvert" class="btn btn-primary" style="margin-left:700px">
    <br />
<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.8.0/html2pdf.bundle.min.js"></script>


  <script>
		$(document).ready(function() {

			$("#btnConvert").on('click', function () {
                html2canvas(document.getElementsByClassName("wrap-table100")).then(function (canvas) {                    
					var anchorTag = document.createElement("a");
                    document.body.appendChild(anchorTag);

					var imgData = canvas.toDataURL('image/png')
					var pdf = new jsPDF('landscape');
					pdf.addImage(imgData,'PNG',10,10);
					pdf.save('Timetable.pdf');});
                    
                });
			});
			
	</script>
   </body>
</html>